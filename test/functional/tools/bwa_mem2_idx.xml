<tool id="bwa_mem2_idx" name="BWA-MEM2-INDEX" version="2.2.1" profile="24.2">
    <requirements>
        <requirement type="package" version="2.2.1">bwa-mem2</requirement>
    </requirements>
    <command><![CDATA[
mkdir '$index.extra_files_path' &&
cd '$index.extra_files_path' &&
bwa-mem2 index -p index '${input_fasta}'
    ]]></command>
    <inputs>
        <param name="input_fasta" type="data" label="Select a genome to index" help="Build an index for this FASTA sequence." format="fasta,fasta.gz"/>
    </inputs>
    <outputs>
        <data name="index" format="bwa_mem2_index"/>
    </outputs>
    <tests>
        <test>
            <param name="input_fasta" value="1.fasta"></param>
            <output name="index">
                <extra_files name="index" type="directory" value="bwa_mem2_index"></extra_files>
            </output>
        </test>
    </tests>
</tool>
